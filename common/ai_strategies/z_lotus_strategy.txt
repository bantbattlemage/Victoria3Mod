#####
#### This AI strategy will override the way AI seek out targets for conquest and expansion. It should be fully compatible with AroAI's economic overrides, howevever, LotusAI must be loaded after AroAI in mod load order
#####

ai_strategy_default = {
	icon = "gfx/interface/icons/ai_strategy_icons/placate_population.dds" # Never shown

	undesirable_infamy_level = 50
	unacceptable_infamy_level = 100
	
	revolution_aversion = 5 # Chance each day that the AI will stop enacting a law that is going to spark a civil war (1 aversion should translate into ~25% chance of avoiding a civil war)
	min_law_chance_to_pass = 40 # If base chance for law to pass is below this, don't enact it
	max_progressiveness = 25 # How progressive is the AI willing to be when passing laws
	max_regressiveness = 25 # How regressive is the AI willing to be when passing laws

	diplomatic_play_neutrality = 75 	 # Added to base neutrality in diplomatic plays	
	diplomatic_play_boldness = 50

	# How many maneuvers are we OK with using up in the initial phase to add more wargoals
	# All strategies are added together here to produce a value from 0 to 1
	wargoal_maneuvers_fraction = 1
	
	# Chance each update that the AI is willing to start changing a law (1 = 1%)
	change_law_chance = { 
		value = 1
	}
	
	obligation_value = {
		value = 15
		
		# Domineering/Protective AI wants to use the obligation to cajole the country into a subordinate relationship
		if = {
			limit = {
				OR = {
					has_attitude = {
						who = scope:target_country
						attitude = protective
					}
					has_attitude = {
						who = scope:target_country
						attitude = domineering
					}			
				}			
			}
			add = 20
		}
		
		# Rebellious AI wants to use the obligation to break free
		if = {
			limit = {
				has_attitude = {
					who = scope:target_country
					attitude = rebellious
				}				
			}
			add = 30 
		}
		
		# Having an obligation can stop a country from attacking us
		if = {
			limit = {
				scope:target_country = {
					OR = {
						has_attitude = {
							who = root
							attitude = belligerent
						}
						has_attitude = {
							who = root
							attitude = domineering
						}			
					}
				}
			}
			add = 10 
		}

		# Small boost for generally friendly attitudes
		if = {
			limit = {
				OR = {
					has_attitude = {
						who = scope:target_country
						attitude = genial
					}
					has_attitude = {
						who = scope:target_country
						attitude = cooperative
					}						
				}			
			}
			add = 5
		}	

		# If AI doesn't care about them, they don't want an obligation
		if = {
			limit = {
				OR = {
					has_attitude = {
						who = scope:target_country
						attitude = cautious
					}
					has_attitude = {
						who = scope:target_country
						attitude = disinterested
					}				
				}			
			}
			add = -100
		}			
		
		# Countries with Economic Imperialism is always looking to bring more countries into their market
		if = {
			limit = {
				has_strategy = ai_strategy_economic_imperialism
				scope:target_country.country_rank < country_rank
				NOR = {
					scope:target_country = { is_subject = yes }
					has_diplomatic_pact = {
						who = scope:target_country
						type = customs_union
					}					
				}
			}		
			add = 5
		}
	
		multiply = {
			value = "scope:target_country.relations:root"
			multiply = 0.01
			add = 1
			min = 0.5
			max = 2.0				
		}	

		multiply = {
			value = "scope:target_country.ai_army_comparison(root)"
			divide = 10
			add = 1
			min = 0.5
			max = 2.0
		}

		multiply = {
			value = "ai_ideological_opinion(scope:target_country)"
			multiply = 0.025
			add = 1
			min = 0.5
			max = 1.5
		}

		# default was first, moved this last so for example Russia isn't defending every german minor
		# Compare ranks - higher rank than us has increased value, lower rank decreased value
		add = {
			value = scope:target_country.country_rank
			multiply = 2
		}
		subtract = {
			value = country_rank
			multiply = 4 #default 2
		}

		min = 0
		max = 30

		#### custom

		#GBR & NET should never back down from defending their colonies
		if = {
			limit = {
				OR = {
					AND = {
						exists = c:GBR
						root = c:GBR
						exists = c:BIC
						scope:target_country = c:BIC
					}
					AND = {
						exists = c:NET
						root = c:NET
						exists = c:DEI
						scope:target_country = c:DEI
					}					
				}
			}

			value = 1000
		}

		#GBR/NET should not take obligations against BIC/DEI
		if = {
			limit = {
				OR = {
					AND = {
						exists = c:GBR
						exists = c:BIC

						OR = {
							scope:target_country = c:GBR
							scope:target_country = c:BIC
							scope:target_country = { top_overlord = c:GBR }
						}

						OR = {
							root = c:GBR
							root = c:BIC
						}

						scope:target_country = {
							top_overlord = c:GBR 
							is_subject_of = c:BIC
						}	
					}
					AND = {
						exists = c:NET
						exists = c:DEI

						OR = {
							scope:target_country = c:NET
							scope:target_country = c:DEI
							scope:target_country = { top_overlord = c:NET }
						}

						OR = {
							root = c:NET
							root = c:DEI
						}

						scope:target_country = {
							top_overlord = c:NET 
							is_subject_of = c:DEI
						}
					}
				}
			}

			multiply = 0
		}

		#USA should defend texas
		if = {
			limit = {
				AND = {
					exists = c:USA
					root = c:USA
					exists = c:TEX
					scope:target_country = c:TEX
				}
			}

			value = 1000
		}

		#China should only care about asia
		if = {
			limit = {
				exists = c:CHI
				root = c:CHI
				NOT = {
					scope:target_country = { country_is_in_east_asia = yes }
				}
			}

			multiply = 0
		}

		# support uprisings of your culture
		if = {
			limit = {
				country_rank >=  rank_value:major_power
				scope:target_country = { any_scope_state = { is_homeland_of_country_cultures = root } }
				can_reach_target_country = yes
			}

			value = 1000
		}

		# balkans/arabic should help each other fight ottomans
		if = {
			limit = {
				OR = {
					capital.region = sr:region_balkans
					capital.region = sr:region_arabic			
				}

				AND = {
					exists = c:TUR
					scope:target_country = c:TUR
				}
			}

			value = 1000
		}
	}

	# Bravery multiplies the AI's estimation of its own strength, so at bravery 2 it believes its forces to be twice as strong as they actually are
	# The AI wants to have at least parity in what it believes its own forces to be and what the enemy forces are, so at bravery 2 it's OK with only having 50% of the enemy strength
	bravery = {
		value = 1
		
		# Braver against pariah countries
		if = {
			limit = {
				scope:target_country.infamy >= infamy_threshold:pariah		
			}
			add = 1
		}		
		
		# Braver against own overlord in general
		if = {
			limit = {
				is_subject_of = scope:target_country				
			}
			add = 1
		}		
	
		# Opium wars aggressor should be confident
		if = {
			limit = {
				has_journal_entry = je_opium_wars
				scope:target_country = {
					has_variable = opium_wars_target
					is_banning_goods = g:opium
				}
			}
			add = 1
		}
	
		# Ottomans should be extremely confident against owners of Syria and Egypt when they have the relevant JE's
		if = {
			limit = {
				OR = {
					AND = {
						has_journal_entry = je_sick_man_syria
						scope:target_country = {
							OR = {
								owns_entire_state_region = STATE_ALEPPO
								owns_entire_state_region = STATE_SYRIA
								owns_entire_state_region = STATE_LEBANON
								owns_entire_state_region = STATE_PALESTINE
								owns_entire_state_region = STATE_TRANSJORDAN
								owns_entire_state_region = STATE_ADANA
							}
						}
					}
					AND = {
						has_journal_entry = je_sick_man_egypt
						scope:target_country = {
							OR = {
								owns_entire_state_region = STATE_SINAI
								owns_entire_state_region = STATE_UPPER_EGYPT
								owns_entire_state_region = STATE_MIDDLE_EGYPT
								owns_entire_state_region = STATE_LOWER_EGYPT
							}
						}
					}
				}
			}
			add = 10
		}

		# USA should be confident against owners of their Manifest Destiny states
		if = {
			limit = {
				has_journal_entry = je_manifest_destiny_mexico
				scope:target_country = {
					any_scope_state = {
						OR = {
							state_region = s:STATE_CALIFORNIA
							state_region = s:STATE_NEVADA
							state_region = s:STATE_UTAH
							state_region = s:STATE_ARIZONA
							state_region = s:STATE_NEW_MEXICO
							state_region = s:STATE_TEXAS
						}
					}
				}
			}
			add = 1
		}		

		# Ethiopian Thunderdome
		if = {
			limit = {
				has_journal_entry = je_age_of_princes
				scope:target_country = {
					has_journal_entry = je_age_of_princes
				}
			}

			add = 10
		}

		# Warlord China Thunderdome
		if = {
			limit = {
				has_global_variable = china_shatters
				has_variable = warlord_state
				scope:target_country = {
					has_variable = warlord_state
				}
			}
			add = 0.5
		}	

		#### default above

		#usa and csa should not back down on each other
		if = {
			limit = {
				exists = c:USA
				exists = c:CSA
				OR = {
					AND = {
						this = c:USA
						scope:target_country = c:CSA
					}
					AND = {
						this = c:CSA
						scope:target_country = c:USA
					}	
				}			
			}

			add = 10
		}

		#mexican/texan bravery
		if = {
			limit = {
				exists = c:MEX
				exists = c:TEX

				OR = {
					root = c:TEX
					root = c:MEX				
				}

			}

			add = 1
		}
		
		# prussia shouldnt be over-confident against austria or france
		if = {
			limit = {
				exists = c:AUS
				exists = c:PRU
				root = c:PRU

				OR = {
					scope:target_country = c:AUS
					scope:target_country = c:FRA	
				}

			}
			
			multiply = 0
			value = 0.75
		}

		# egypt/otto/china shouldnt back down much
		if = {
			limit = {
				OR = {
					AND = {
						exists = c:TUR
						root = c:TUR
					}
					AND = {
						exists = c:EGY
						root = c:EGY
					}
					AND = {
						exists = c:CHI
						root = c:CHI
					}										
				}
			}

			add = 1
		}
	}
	
	aggression = {

		value = 0

		if = {
			limit = {
				exists = scope:target_country
			}

			# Higher aggression against pariah countries
			if = {
				limit = {
					can_reach_target_country = yes
					scope:target_country.infamy >= infamy_threshold:pariah		
				}

				add = 5

				#dont contain other AI
				if = {
					limit = {
						scope:target_country = {
							is_player = no
						}
					}

					multiply = 0
				}
			}
			
			# Higher aggression against subject/overlord if domineering or rebellious
			if = {
				limit = {
					OR = {
						is_subject_of = scope:target_country
						scope:target_country = { is_subject_of = root }
					}				

					NOT = {
						exists = c:BIC

						OR = {
							root = c:BIC
							scope:target_country = c:BIC
						}
					}
				}
				add = 5
			}		
			
			# Very high aggression against pariah countries by Great Powers
			if = {
				limit = {
					can_reach_target_country = yes
					country_rank = rank_value:great_power
					scope:target_country = {
						infamy >= infamy_threshold:pariah
						is_diplomatic_play_committed_participant = no
						is_at_war = no
					}
				}
				add = 25
			}		
			
			# Opium wars aggressor should be very, very aggressive against target if they're banning opium
			if = {
				limit = {
					has_journal_entry = je_opium_wars
					scope:target_country = {
						has_variable = opium_wars_target
						is_banning_goods = g:opium
					}
				}
				add = 100
			}

			# Ottomans should be extremely aggressive against owners of Syria and Egypt when they have the relevant JE's
			if = {
				limit = {
					OR = {
						AND = {
							has_journal_entry = je_sick_man_syria
							scope:target_country = {
								OR = {
									owns_entire_state_region = STATE_ALEPPO
									owns_entire_state_region = STATE_SYRIA
									owns_entire_state_region = STATE_LEBANON
									owns_entire_state_region = STATE_PALESTINE
									owns_entire_state_region = STATE_TRANSJORDAN
									owns_entire_state_region = STATE_ADANA
								}
							}
						}
						AND = {
							has_journal_entry = je_sick_man_egypt
							scope:target_country = {
								OR = {
									owns_entire_state_region = STATE_SINAI
									owns_entire_state_region = STATE_UPPER_EGYPT
									owns_entire_state_region = STATE_MIDDLE_EGYPT
									owns_entire_state_region = STATE_LOWER_EGYPT
								}
							}
						}
					}
				}
				add = 100
			}

			# USA should be extremely aggressive against owners of their Manifest Destiny states
			if = {
				limit = {
					has_journal_entry = je_manifest_destiny_mexico
					scope:target_country = {
						any_scope_state = {
							OR = {
								state_region = s:STATE_CALIFORNIA
								state_region = s:STATE_NEVADA
								state_region = s:STATE_UTAH
								state_region = s:STATE_ARIZONA
								state_region = s:STATE_NEW_MEXICO
								state_region = s:STATE_TEXAS
							}
						}
					}
				}
				add = 100
			}

			# Extra french aggression for Haiti renouncing debt payments
			if = {
				limit = {
					has_variable = haiti_stops_paying_france_aggressor				
					scope:target_country = {
						has_variable = haiti_stops_paying_france_target
						any_state = {
							has_claim_by = root
						}
					}				
				}
				add = 10
			}

			# Extra aggression against Peru-Bolivia
			if = {
				limit = {
					scope:target_country = {
						has_journal_entry = je_peru_bolivia
					}
					OR = {
						country_has_primary_culture = cu:south_andean
						country_has_primary_culture = cu:north_andean
					}
				}
				add = 25
			}

			# Ethiopian Thunderdome
			if = {
				limit = {
					has_journal_entry = je_age_of_princes
					scope:target_country = {
						has_journal_entry = je_age_of_princes
					}
				}
				add = 25
			}

			# Warlord China Thunderdome
			if = {
				limit = {
					has_global_variable = china_shatters
					has_variable = warlord_state
					scope:target_country = {
						has_variable = warlord_state
					}
				}
				add = 50
			}

			# Veiled Protectorate
			if = {
				limit = {
					has_journal_entry = je_veiled_protectorate
					exists = c:EGY
					scope:target_country = {
						THIS = c:EGY
					}
				}
				add = 25
			}

			# East India Company vs its neighbors
			if = {
				limit = {
					has_journal_entry = je_consolidate_colonial_rule
					scope:target_country = {
						NOT = { is_subject_of = ROOT }
						any_scope_state = {
							OR = {
								state_region = s:STATE_BURMA
								state_region = s:STATE_KACHIN
								state_region = s:STATE_SHAN_STATES
								state_region = s:STATE_SINDH
								state_region = s:STATE_PUNJAB
								state_region = s:STATE_KASHMIR
								state_region = s:STATE_PASHTUNISTAN
								state_region = s:STATE_BALUCHISTAN
								state_region = s:STATE_HIMALAYAS
							}
						}
					}
				}
				add = 25
			}

			#### END DEFAULT AGGRESION ####
			###	START CUSTOM AGGRESSION ###		

			# Go after conquer targets
			if = {
				limit = {
					OR = {
						has_secret_goal = {
							who = scope:target_country
							secret_goal = conquer
						}	
						has_secret_goal = {
							who = scope:target_country
							secret_goal = dominate
						}
					}	
				}

				add = 10000
			}
			else = {
				add = lotus_strategy_calculation		
				multiply = { 
					value = lotus_strategy_block_checks
				}
			}
		}
	}
		
	colonial_interest_ratio = {
		value = 0.0

		if = {
			limit = { 
				is_country_type = recognized
				navy_size >= 10 				
			}
			add = 0.1
		}
		
		if = {
			limit = { 
				is_country_type = recognized
				navy_size >= 20 		
			}
			add = 0.1
		}		
		
		if = {
			limit = { 
				is_country_type = recognized
				navy_size >= 50 				
			}
			add = 0.1
		}		
	}

	secret_goal_scores = {
		none = {
			value = 0
			
			if = {
				limit = {		
					scope:target_country = { NOT = { is_subject_of = root } }
					root = { NOT = { is_subject_of = scope:target_country } }
				}
				add = 150	
			}				
			
			# Minor german states shouldn't have far-reaching diplomatic ambitions
			if = {
				limit = {
					country_rank < rank_value:major_power
					OR = {
						country_has_primary_culture = cu:north_german
						country_has_primary_culture = cu:south_german					
					}
					scope:target_country = {
						NOR = {
							country_has_primary_culture = cu:north_german
							country_has_primary_culture = cu:south_german						
						}
					}
					scope:target_country = { NOT = { is_subject_of = root } }
					root = { NOT = { is_subject_of = scope:target_country } }					
					NOT = { is_adjacent = scope:target_country }
				}
				add = 1000
			}
			
			if = {
				limit = {
					country_rank = scope:target_country.country_rank
				}
				multiply = 0.5
			}		

			min = 0
			max = 1000
		}	
		befriend = {
			value = 200
			
			if = {
				limit = {	
					country_rank <= scope:target_country.country_rank
				}
				add = 100
			}
			
			multiply = {
				value = "ai_ideological_opinion(scope:target_country)"
				multiply = 0.05
				add = 1
				min = 0.25
				max = 2.0
			}				
			
			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
				}
				multiply = 1.5
			}
			
			if = {
				limit = {
					harsh_ai_behavior_trigger = yes
				}
				multiply = 0.75
			}	

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:infamous
				}
				multiply = 0.9
			}	

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:notorious
				}
				multiply = 0.9
			}	

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:pariah
				}
				multiply = 0.5
			}				
			
			if = {
				limit = {
					OR = {
						has_diplomatic_pact = {
							who = scope:target_country
							type = rivalry
						}					
						scope:target_country = { relations:root <= relations_threshold:poor }					
					}				
				}
				multiply = 0.0
			}

			### default above

			# usa should reconcile with britain if it can
			if = {
				limit = {
					exists = c:USA
					exists = c:GBR
					root = c:USA					
					scope:target_country = c:GBR
					has_journal_entry = je_oregon

					NOT ={
						AND = {
							any_scope_state = { state_region = s:STATE_WASHINGTON }
							any_scope_state = { state_region = s:STATE_IDAHO }
							any_scope_state = { state_region = s:STATE_OREGON }
						}
					}
				}

				add = 500
			}

			if = {
				limit = {
					exists = c:RUS
					root = c:RUS
					scope:target_country = {
						OR = {
							AND = {
								exists = c:KHI
								this = c:KHI
							}
							AND = {
								exists = c:BUK
								this = c:BUK
							}
							AND = {
								exists = c:KOK
								this = c:KOK
							}														
						}
					}
				}

				multiply = 0
			}

			min = 0
			max = 1000
		}
		reconcile = {
			value = 0

			if = {
				limit = {
					OR = {
						has_diplomatic_pact = {
							who = scope:target_country
							type = rivalry
						}	
						scope:target_country = { relations:root <= relations_threshold:poor }		
					}
											
				}
				
				add = 100					
			}
			
			multiply = {
				value = "ai_ideological_opinion(scope:target_country)"
				multiply = 0.05
				add = 1
				min = 0.25
				max = 2.0
			}			
			
			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
				}
				multiply = 1.5
			}
			
			if = {
				limit = {
					harsh_ai_behavior_trigger = yes
				}
				multiply = 0.75
			}	

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:infamous
				}
				multiply = 0.9
			}	

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:notorious
				}
				multiply = 0.9
			}	

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:pariah
				}
				multiply = 0.5
			}				

			# usa should reconcile with britain if it can
			if = {
				limit = {
					exists = c:USA
					exists = c:GBR
					root = c:USA					
					scope:target_country = c:GBR
					has_journal_entry = je_oregon

					NOT ={
						AND = {
							any_scope_state = { state_region = s:STATE_WASHINGTON }
							any_scope_state = { state_region = s:STATE_IDAHO }
							any_scope_state = { state_region = s:STATE_OREGON }
						}
					}
				}

				value = 200
			}			

			if = {
				limit = {
					exists = c:RUS
					root = c:RUS
					scope:target_country = {
						OR = {
							AND = {
								exists = c:KHI
								this = c:KHI
							}
							AND = {
								exists = c:BUK
								this = c:BUK
							}
							AND = {
								exists = c:KOK
								this = c:KOK
							}														
						}
					}
				}

				multiply = 0
			}

			min = 0
			max = 1000
		}		
		protect = {
			value = 0
			
			if = {
				limit = {
					OR = {
						country_rank > scope:target_country.country_rank	
						scope:target_country = { is_subject_of = root }	
					}
				}
				add = 200
			}
			
			multiply = {
				value = "ai_ideological_opinion(scope:target_country)"
				multiply = 0.05
				add = 1
				min = 0.25
				max = 2.0
			}	

			if = {
				limit = {
					harsh_ai_behavior_trigger = yes
				}
				multiply = 0.75
			}

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:infamous
				}
				multiply = 0.9
			}	

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:notorious
				}
				multiply = 0.9
			}	

			if = {
				limit = {
					scope:target_country.infamy >= infamy_threshold:pariah
				}
				multiply = 0.5
			}				

			if = {
				limit = {
					OR = {
						has_diplomatic_pact = {
							who = scope:target_country
							type = rivalry
						}					
						scope:target_country = { relations:root <= relations_threshold:poor }					
					}				
				}
				multiply = 0.0
			}	

			if = {
				limit = {		
					NOR = {
						country_rank = rank_value:great_power
						has_strategic_adjacency = scope:target_country
						AND = {
							country_rank >= rank_value:major_power
							scope:target_country = { is_country_type = unrecognized }
						}						
					}
				}
				multiply = 0.0					
			}

			if = {
				limit = {		
					is_subject_of = scope:target_country	
				}
				multiply = 0.0	
			}

			######## custom

			if = {
				limit = {
					exists = c:RUS
					root = c:RUS
					scope:target_country = {
						OR = {
							AND = {
								exists = c:KHI
								this = c:KHI
							}
							AND = {
								exists = c:BUK
								this = c:BUK
							}
							AND = {
								exists = c:KOK
								this = c:KOK
							}														
						}
					}
				}

				multiply = 0
			}

			min = 0
			max = 1000
		}		
		antagonize = {
			value = 0
			
			if = {
				limit = {
					countries_are_valid_rivals = yes
				}
				add = 50
			}
			
			if = {
				limit = {		
					has_diplomatic_pact = {
						who = scope:target_country
						type = rivalry
					}	
				}
				add = 100
			}
			
			if = {
				limit = {
					can_reach_target_country = yes	
					NOT = { is_subject_of = scope:target_country }
				}
				add = 50
			}			
			
			if = {
				limit = {		
					is_subject_of = scope:target_country	
				}
				add = 100			
			}
			
			multiply = {
				value = "ai_ideological_opinion(scope:target_country)"
				multiply = -0.05
				add = 1
				min = 0.25
				max = 2.0
			}							
			
			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
				}
				multiply = 0.75
			}
			
			if = {
				limit = {
					harsh_ai_behavior_trigger = yes
				}
				multiply = 1.5
			}	
			
			if = {
				limit = {
					has_game_rule = high_ai_aggression
				}
				multiply = 0.75 # Yes, this is actually intended to be a decrease - AI should want to conquer/dominate more instead
			}			

			if = {
				limit = {
					has_game_rule = low_ai_aggression
				}
				multiply = 1.5 # Yes, this is actually intended to be an increase - it's to partially compensate for lowered conquer/dominate desires
			}				
			
			if = {
				limit = {		
					scope:target_country = { is_subject_of = root }		
				}
				multiply = 0.0	
			}
			
			# Shouldn't usually upset diplomatic pacts unless they're bankrupt or infamous
			if = {
				limit = {
					scope:target_country = { 
						in_default = no 
						infamy < infamy_threshold:notorious
					}						
				}

				if = {
					limit = {
						has_diplomatic_pact = {
							who = scope:target_country
							type = defensive_pact
						}	
					}
					multiply = 0.5
				}	

				if = {
					limit = {
						has_diplomatic_pact = {
							who = scope:target_country
							type = alliance
						}		
					}
					multiply = 0.25
				}	

				if = {
					limit = {
						has_diplomatic_pact = {
							who = scope:target_country
							type = trade_agreement
						}			
					}
					multiply = 0.5
				}				

				if = {
					limit = {
						has_diplomatic_pact = {
							who = scope:target_country
							type = customs_union
						}								
					}
					multiply = 0.25
				}				
			}				
			
			if = {
				limit = { is_still_learning = yes }
				multiply = 0
			}	

			#### DEFAULTS ABOVE
			#### CUSTOM

			#BIC & DEI should not fight their overlord
			if = {
				limit = {
					OR = {
						AND = {
							exists = c:BIC
							root = c:BIC
							scope:target_country = c:GBR
							is_subject_of = c:GBR
						}
						AND = {
							exists = c:DEI
							root = c:DEI
							scope:target_country = c:NET
							is_subject_of = c:NET
						}						
					}			
				}

				multiply = 0
			}

			min = 0
			max = 1000
		}
		conquer = {
			value = 0

			add = lotus_strategy_calculation		
			multiply = { 
				value = lotus_strategy_block_checks
			}

			min = 0
			max = 1000
		}
		dominate = {
			value = 0

			add = lotus_strategy_calculation		
			multiply = { 
				value = lotus_strategy_block_checks
			}

			min = 0
			max = 0 # test
		}			
	}
	
	wargoal_scores = {
		conquer_state = {
			value = 0

			#### default checks

			if = {
				limit = {
					has_secret_goal = {
						who = scope:target_country
						secret_goal = conquer
					}					
					can_reach_target_state = yes			
				}
				add = {
					value = 20
				
					add = {
						value = scope:target_state.state_population
						divide = 100000
						max = 20						
					}
					
					add = {
						value = scope:target_state.gdp
						divide = 100000
						max = 20						
					}	

					if = {
						limit = { 
							NOT = { has_strategic_land_adjacency = scope:target_state } 
							scope:target_state = { has_port = no }
						}
						multiply = 0.5
					}
					
					if = {
						limit = {
							has_strategic_land_adjacency = scope:target_country
							NOT = { has_strategic_land_adjacency = scope:target_state }
						}
						multiply = 0.1
					}					
					else_if = {
						limit = {
							is_adjacent = scope:target_country
							NOT = { is_adjacent = scope:target_state }
						}
						multiply = 0.5
					}															
				
					if = {
						limit = {
							scope:target_state = { is_homeland_of_country_cultures = root }
						}
						multiply = 1.5
					}	
				}
			}	
			else_if = {
				limit = {
					OR = {
						has_attitude = {
							who = scope:target_country
							attitude = antagonistic
						}				
						is_diplomatic_play_enemy_of = scope:target_country
						has_war_with = scope:target_country							
					}
					has_strategic_adjacency = scope:target_state
					scope:target_state = { is_homeland_of_country_cultures = root }		
					can_reach_target_state = yes			
				}
				add = {
					value = 10
				
					add = {
						value = scope:target_state.state_population
						divide = 100000
						max = 10						
					}
					
					add = {
						value = scope:target_state.gdp
						divide = 100000
						max = 10						
					}
					
					if = {
						limit = { 
							NOT = { has_strategic_land_adjacency = scope:target_state } 
							scope:target_state = { has_port = no }
						}
						multiply = 0.5
					}									

					if = {
						limit = {
							has_strategic_land_adjacency = scope:target_country
							NOT = { has_strategic_land_adjacency = scope:target_state }
						}
						multiply = 0.1
					}					
					else_if = {
						limit = {
							is_adjacent = scope:target_country
							NOT = { is_adjacent = scope:target_state }
						}
						multiply = 0.5
					}							

					if = {
						limit = {
							country_rank < scope:target_country.country_rank
						}
						multiply = 0.5
					}
				}
			}

			#### default country specific checks	

			if = {
				limit = {
					has_journal_entry = je_boxer_rebellion
					scope:target_state.state_region = { is_homeland = cu:han }
				}
				add = 50
			}

			if = {
				limit = {
					has_journal_entry = je_greek_nationalism
					scope:target_state.state_region = { is_homeland = cu:greek }
				}
				add = 50
			}

			if = {
				limit = {
					has_journal_entry = je_consolidate_colonial_rule
					scope:target_state = {
						OR = {
							state_region = s:STATE_BURMA
							state_region = s:STATE_KACHIN
							state_region = s:STATE_SHAN_STATES
							state_region = s:STATE_SINDH
							state_region = s:STATE_PUNJAB
							state_region = s:STATE_KASHMIR
							state_region = s:STATE_PASHTUNISTAN
							state_region = s:STATE_BALUCHISTAN
							state_region = s:STATE_HIMALAYAS
						}
					}
				}
				add = 50
			}

			if = {
				limit = {
					has_journal_entry = je_age_of_princes
					scope:target_state = {
						OR = {
							state_region = s:STATE_AMHARA
							state_region = s:STATE_GONDER
						}
					}
				}
				add = 50
			}

			if = {
				limit = {
					has_journal_entry = je_manifest_destiny_mexico
					scope:target_state = {
						OR = {
							state_region = s:STATE_CALIFORNIA
							state_region = s:STATE_NEVADA
							state_region = s:STATE_UTAH
							state_region = s:STATE_ARIZONA
							state_region = s:STATE_NEW_MEXICO
							state_region = s:STATE_TEXAS
						}
					}
				}
				add = 50
			}

			if = {
				limit = {
					has_journal_entry = je_conquer_oregon
					scope:target_state = {
						OR = {
							state_region = s:STATE_WASHINGTON
							state_region = s:STATE_IDAHO
							state_region = s:STATE_OREGON
						}
					}
				}
				add = 50
			}

			if = {
				limit = {
					has_journal_entry = je_alaska
					scope:target_state = {
						state_region = s:STATE_ALASKA
					}
				}
				add = 50
			}
			
			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
					scope:target_state = { is_homeland_of_country_cultures = scope:target_country }
				}
				multiply = 0.0
			}

			if = {
				limit = {
					has_journal_entry = je_opium_wars
					
					NOT = { root = c:RUS}

					scope:target_country = {
						has_variable = opium_wars_target
					}
				}
				multiply = 0
			}			

			#### custom checks

			add = lotus_strategy_calculation

			# take homeland states
			if = {
				limit = {
					scope:target_state = { is_homeland_of_country_cultures = root }
				}
				
				add = 150
			}

			# USA should not expand into core mexico
			if = {
				limit = {

					exists = c:USA
					exists = c:MEX
					root = c:USA
					scope:target_country = c:MEX

					scope:target_state = {
						OR = {
							state_region = s:STATE_SONORA
							state_region = s:STATE_RIO_GRANDE
							state_region = s:STATE_DURANGO
							state_region = s:STATE_SINALOA
							state_region = s:STATE_BAJIO
							state_region = s:STATE_YUCATAN
							state_region = s:STATE_MEXICO
							state_region = s:STATE_VERACRUZ
							state_region = s:STATE_GUERRERO
							state_region = s:STATE_OAXACA
							state_region = s:STATE_JALISCO
							state_region = s:STATE_ZACATECAS
							state_region = s:STATE_CHIHUAHUA
							state_region = s:STATE_BAJA_CALIFORNIA
							state_region = s:STATE_CHIAPAS
						}
					}
				}
			
				multiply = 0
			}

			# europeans shouldn't take states from china except russia
			if = {
				limit = {
					OR = {
						country_is_in_europe = yes
						AND = {
							exists = c:GBR
							root = c:GBR
						}
					}

					AND = {
						exists = c:CHI
						scope:target_country = c:CHI
					}
					
					NOT = {
						AND = {
							exists = c:RUS
							root = c:RUS
						}
					}
                }

				multiply = 0
			}

			# britain shouldnt take mainland europe & vice versa
			if = {
				limit = {

					OR = {
						
						AND = {
							exists = c:GBR
							root = c:GBR
							scope:target_state = {
								state_is_in_europe = yes
							
								NOT = {
									region = sr:region_england
									region = sr:region_north_sea
								}
							}
						}
						AND = {
							country_is_in_europe = yes
							scope:target_state = {							
								OR = {
									region = sr:region_england
									region = sr:region_north_sea
								}
							}
						}	
					}				
                }

				multiply = 0
			}

			#France and Spain should not attempt to conquer each other
			if = {
				limit = {
					
					OR = {
						AND = {
							exists = c:FRA
							root = c:FRA
						}
						AND = {
							exists = c:SPA
							root = c:SPA
						}
					}

					OR = {
						AND = {
							exists = c:FRA
							scope:target_country = c:FRA
							root = c:SPA
						}
						AND = {
							exists = c:SPA
							scope:target_country = c:SPA
							root = c:FRA
						}
					}

					scope:target_state = {
						state_is_in_europe = yes
					}
				}

				multiply = 0
			}

			#Portugal and Spain should not attempt to conquer each other
			if = {
				limit = {

					exists = c:POR
					exists = c:SPA
					
					OR = {
						AND = {
							exists = c:POR
							root = c:POR
						}
						AND = {
							exists = c:SPA
							root = c:SPA
						}
					}

					OR = {
						AND = {
							exists = c:POR
							scope:target_country = c:POR
							root = c:SPA
						}
						AND = {
							scope:target_country = c:SPA
							root = c:POR
						}
					}

					scope:target_state = {
						state_is_in_europe = yes
					}
				}

				multiply = 0
			}

			#USA should take texas from mexico & northeast from canada (if they fight)
			if = {
				limit = {
					AND = {
						exists = c:USA
						root = c:USA
					}
					
					scope:target_state = {
						OR = {
							state_region = s:STATE_TEXAS
							state_region = s:STATE_WASHINGTON
							state_region = s:STATE_IDAHO
							state_region = s:STATE_OREGON
						}
					}					
				}

				add = 125
			}

			#Russia should take manchuria & central asia
			if = {
				limit = {

					AND = {
						exists = c:RUS
						root = c:RUS
					}

					scope:target_state = {
						OR = {
							state_region = s:STATE_KUBAN
							state_region = s:STATE_DAGESTAN
							state_region = s:STATE_AZERBAIJAN
							state_region = s:STATE_TURKMENIA
							state_region = s:STATE_SEMIRECHE
							state_region = s:STATE_TAJIKISTAN
							state_region = s:STATE_UZBEKIA
							state_region = s:STATE_KHIVA
							state_region = s:STATE_SAKHALIN
							state_region = s:STATE_KIRGHIZIA
						}
					}

					NOT = {
						scope:target_state = {
							state_region = s:STATE_KIRGHIZIA
							AND = {
								exists = c:CHI
								owner = c:CHI
							}
						}						
					}
				}

				add = 125
			}
			
			# state borders in asia are messy, too complicated for AI to make sense of
			if = {
				limit = {
					exists = c:RUS
					root = c:RUS
					exists = c:CHI
					scope:target_country = c:CHI			
				}
				
				if = {
					limit = {
						scope:target_state = {
							state_region = s:STATE_OUTER_MANCHURIA
						}
					}

					add = 125
				}
				else_if = {
					limit = {						
						scope:target_state = {
							
							OR = {
								AND = {
									root = { any_scope_state = { state_region = s:STATE_OUTER_MANCHURIA } }
									OR = {
										state_region = s:STATE_NORTHERN_MANCHURIA
										state_region = s:STATE_SOUTHERN_MANCHURIA										
									}
								}
								OR = {
									state_region = s:STATE_TUVA
									state_region = s:STATE_TOMSK
									state_region = s:STATE_JETISY
									state_region = s:STATE_KIRGHIZIA						
								}
							}
						}
					}

					multiply = 0
					add = 50
				}
				else = {
					multiply = 0
				}
			}

			#europeans generally should not conquer each other
			if = {
				limit = {
					OR = {
						country_is_in_europe = yes
						AND = {
							exists = c:RUS
							root = c:RUS
						}
						AND = {
							exists = c:TUR
							root = c:TUR
						}						
					}

					scope:target_state = { 
						OR = {
							state_is_in_europe = yes 
							state_is_in_south_america = yes
							region = sr:region_england
							region = sr:region_north_sea_coast
						}
					}
					
					# do take homeland states
					NOT = {						
						scope:target_state = { is_homeland_of_country_cultures = root }
					}
					
					# germans
					NOT = {
						AND = {
							OR = {
								country_has_primary_culture = cu:north_german
								country_has_primary_culture = cu:south_german									
							}
							OR = {
								scope:target_state = { state_region = { is_homeland = cu:north_german } }	
								scope:target_state = { state_region = { is_homeland = cu:south_german } }								
							}
						}
					}

					# italians
					NOT = {
						AND = {
							OR = {
								country_has_primary_culture = cu:north_italian
								country_has_primary_culture = cu:south_italian								
							}
							OR = {
								scope:target_state = { state_region = { is_homeland = cu:north_italian } }	
								scope:target_state = { state_region = { is_homeland = cu:south_italian } }							
							}							
						}
					}

					# balkan thunderdome
					NOT = {
						AND = {
							capital.region = sr:region_balkans
							scope:target_country = {
								AND = {
									exists = c:TUR
									this = c:TUR
								}
							}
							scope:target_state = {
								NOT = { state_region = s:STATE_EASTERN_THRACE }
							}
						}
					}

					# eastern europe
					NOT = {
						AND = {
							capital.region = sr:region_danubia
							NOT = { 
								AND = {
									exists = c:AUS
									root = c:AUS
								}
							}
						}
					}
				}
				
				multiply = 0.0
			}

			#BIC & DEI shouldnt take european territory
			if = {
				limit = {
					
					OR = {
						AND = {
							exists = c:BIC
							root = c:BIC
						}
						AND = {
							exists = c:DEI
							root = c:DEI
						}					
					}

					scope:target_state = {
						state_is_in_europe = yes
					}
				}

				multiply = 0.0
			}
			
			#europeans shouldnt conquer egypt or ottomans directly
			if = {
				limit = {

					OR = {
						AND = {
							exists = c:RUS
							root = c:RUS
						}
						AND = {
							exists = c:GBR
							root = c:GBR
						}
						country_is_in_europe = yes
					}

					OR = {
						AND = {
							exists = c:EGY
							scope:target_country = c:EGY
							OR = {
								scope:target_state = { region = sr:region_nile_basin }							
								scope:target_state.state_region = s:STATE_ADANA
							}
						}
						AND = {
							exists = c:TUR
							scope:target_country = c:TUR
						}
					}
				}

				multiply = 0
			}

			#britain shouldnt take things like kamchakta off of russia
			if = {
				limit = {
					AND  = {
						exists = c:GBR
						root = c:GBR
					}
					AND = {
						exists = c:RUS
						scope:target_country = c:RUS						
					}

					NOT = {
						scope:target_state = {
							OR = {
								region = sr:region_persia
								region = sr:region_north_india
								region = sr:region_south_india
								region = sr:region_himalayas							
							}
						}
					}
				}
			
				multiply = 0
			}
			#no one else should really be taking states from russia
			else_if = {
				limit = {
					exists = c:RUS
					scope:target_country = c:RUS				
				}

				multiply = 0
			}

			#prioritize puppeting larger countries over taking states (and list of specific smaller countries we prefer to puppet instead of conquer)
			if = {
				limit = {

					country_rank >= rank_value:major_power

					NOT = {
						scope:target_country = {
							OR = {
								country_rank = rank_value:great_power
								country_rank = rank_value:major_power							
							}
						}
					}

					NOT = {
						OR = {
							AND = {
								exists = c:CHI
								scope:target_country = c:CHI
							}
							AND = {
								exists = c:EGY
								scope:target_country = c:EGY
							}
							AND = {
								exists = c:TUR
								scope:target_country = c:TUR
							}
						}
					}

					scope:target_country = {
						
						OR = {
							country_rank = rank_value:unrecognized_major_power
							country_rank = rank_value:unrecognized_regional_power
							num_states > 3

							AND = {
								exists = c:DAI
								this = c:DAI
							}
							AND = {
								exists = c:PHI
								this = c:PHI
							}
							AND = {
								exists = c:ALD
								this = c:ALD
							}
							AND = {
								exists = c:MOR
								this = c:MOR
							}
							AND = {
								exists = c:TRI
								this = c:TRI
							}
							AND = {
								exists = c:PAN
								this = c:PAN
							}
							AND = {
								exists = c:AFG
								this = c:AFG
							}	
							AND = {
								exists = c:KHI
								this = c:KHI
							}			
							AND = {
								exists = c:BAV
								this = c:BAV
							}	
							AND = {
								exists = c:CAM
								this = c:CAM
							}		
							AND = {
								exists = c:IRQ
								this = c:IRQ
							}		
							AND = {
								exists = c:NEJ
								this = c:NEJ
							}			
							AND = {
								exists = c:MAD
								this = c:MAD
							}						
						}
					}
				}

				multiply = 0
			}
			
			# dont take stuff you cant reach
			if = {
				limit = {
					NOT = {
						any_scope_state = {
							scope:target_state.state_region = this.state_region
						}
					}
				}

				if = {
					limit = {
						NOT = {
							any_subject_or_below = {
								overlord = root
								is_subject_type = subject_type_puppet
								OR = {
									is_adjacent = scope:target_state
									any_scope_state = {
										scope:target_state.state_region = this.state_region
									}
								}
							}
						}				
					}		

					if = {
						limit = {
							OR = {
								can_reach_target_country = no								
								can_reach_target_state = no
							}
						}

						multiply = 0
					}			
				}				
			}

			multiply = { 
				value = lotus_strategy_block_checks
			}

			min = 0
			max = 125
		}
		
		return_state = {
			value = 200

			add = {
				value = scope:target_state.state_population
				divide = 100000
				max = 25						
			}
			
			add = {
				value = scope:target_state.gdp
				divide = 100000
				max = 25						
			}					
					
			if = {
				limit = {
					has_claim = scope:target_state
					OR = {
						has_journal_entry = je_sick_man_syria
						has_journal_entry = je_sick_man_egypt
					}
				}
				add = 50
			}
					
			if = {
				limit = {
					scope:target_state = { is_homeland_of_country_cultures = root }
				}

				add = 50

				multiply = 1.25
			}

			if = {
				limit = {
					has_strategic_adjacency = scope:target_state
				}
				multiply = 1.5
			}
			else = {
				multiply = 0.25
			}

			if = {
				limit = {
					can_reach_target_state = no
				}
				multiply = 0
			}

			#ottoman priority order for egypt cores
			if = {
				limit = {
					exists = c:TUR
					root = c:TUR
					scope:target_country = c:EGY
				}

				if = {
					limit = {
						NOT = {
							scope:target_state.state_region = s:STATE_ADANA
							scope:target_state.state_region = s:STATE_ALEPPO
							scope:target_state.state_region = s:STATE_SYRIA	
							scope:target_state.state_region = s:STATE_LEBANON						
						}						
					}

					multiply = 0.1					
				}
				else_if = {
					limit = {
						NOT = {
							scope:target_state.state_region = s:STATE_ADANA					
						}
					}

					multiply = 0.5
				}
			}

			min = 0
			max = 200			
		}	
		
		take_treaty_port = {
			value = 0
			
			if = {
				limit = {
					scope:target_country = {
						has_diplomatic_pact = {
							who = root
							type = embargo
						}	
					}
				}
				add = 25
			}

			if = {
				limit = {
					"num_mutual_trade_route_levels_with_country(root)" >= 10
					OR = {
						has_strategy = ai_strategy_economic_imperialism
						AND = {
							NOT = { is_country_type = unrecognized }
							scope:target_country = { is_country_type = unrecognized }
						}
					}
				}

				add = {
					value = 5
				
					add = {
						value = scope:target_state.state_population
						divide = 200000
						max = 10						
					}
					
					add = {
						value = scope:target_state.gdp
						divide = 200000
						max = 10						
					}				
				
					if = {
						limit = {
							any_scope_building = {
								is_building_type = building_trade_center
								level > 0
							}						
						}
						
						add = 5
					}
						
					if = {
						limit = {
							has_strategic_adjacency = scope:target_state		
						}
						multiply = 1.25
					}					
				}										
			}		
						
			if = {
				limit = {
					has_journal_entry = je_opium_wars
					scope:target_country = {
						has_variable = opium_wars_target
					}
				}
				add = 50
			}
			if = {
				limit = {
					has_journal_entry = je_opium_wars
					scope:target_country = {
						has_variable = opium_wars_target
					}
					scope:target_state = {
						state_region = s:STATE_SHAOZHOU
					}					
				}
				add = 100
			}	
			
			if = {
				limit = {
					scope:target_country = {
						has_diplomatic_pact = {
							who = root
							type = trade_agreement
						}	
					}
				}
				multiply = 0
			}
			
			if = {
				limit = {
					can_reach_target_state = no
				}
				multiply = 0
			}		

			### default above

			# major & great powers should want ports off of unrecognized powers
			if = {
				limit = {

					country_rank >= rank_value:major_power

					scope:target_country = {

						country_rank = rank_value:unrecognized_major_power
					}
				}

				add = 100
			}			

			# only major & great powers should want ports, and shouldnt want them off of small countries
			if = {
				limit = {					
					OR = {

						country_rank < rank_value:major_power

						NOT = {
							scope:target_country = {
								OR = {
									country_rank = rank_value:unrecognized_major_power
									country_rank = rank_value:unrecognized_regional_power								
								}
							}
						}
					}
				}

				multiply = 0
			}
			
			#russia in china
			if = {
				limit = {
					exists = c:RUS
					root = c:RUS
				}
				
				if = {
					limit = {
						scope:target_state = { state_region = s:STATE_SHENGJING }
					}

					#add = 100
				}
				else_if = {
					limit = {
						scope:target_state = { state_region = s:STATE_OUTER_MANCHURIA }
					}

					#multiply = 0
				}
				else = {
					#multiply = 0
				}
			}

			# dont take ports off of "civilized" countries
			if = {
				limit = {
					scope:target_country = {

						OR = {
							country_rank = rank_value:great_power
							country_rank = rank_value:major_power	
							country_rank = rank_value:minor_power
							country_rank = rank_value:insignificant_power																			
						}
					}
				}

				multiply = 0
			}

			# dont take treaty ports from egypt or ottomans
			if = {
				limit = {
					OR = {
						AND = {
							exists = c:TUR
							scope:target_country = c:TUR
						}
						AND = {
							exists = c:EGY
							scope:target_country = c:EGY
						}
					}
				}

				multiply = 0
			}

			# dont take port if you have one already
			if = {
				limit = {
					has_treaty_port_in_country = scope:target_country
				}
				multiply = 0
			}

			if = {
				limit = {
					scope:target_country = {
						market = root.market
					}
				}
				
				multiply = 0
			}

			min = 0
			max = 100			
		}
		
		make_puppet = {
			if = {
				limit = {

					can_reach_target_country = yes

					OR = {
						has_secret_goal = {
							who = scope:target_country
							secret_goal = protect
						}
						has_secret_goal = {
							who = scope:target_country
							secret_goal = dominate
						}						
					}
				}
			
				add = {
					value = 50
				
					add = {
						value = scope:target_country.gdp
						divide = 200000
						max = 50						
					}

					if = {
						limit = {
							has_strategic_adjacency = scope:target_country
						}
						multiply = 1.25
					}						
				}			
			}			
			
			if = {
				limit = {
					OR = {
						has_journal_entry = je_sick_man_egypt
						has_journal_entry = je_veiled_protectorate
					}
					exists = c:EGY
					scope:target_country = c:EGY
				}
				add = 100
			}

			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
				}
				multiply = 0.5
			}

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}

			add = lotus_strategy_calculation

			multiply = { 
				value = lotus_strategy_block_checks
			}

			multiply = {
				value = lotus_take_subject_check
			}

			min = 0
			max = 175			
		}
		
		make_dominion = {
			if = {
				limit = {
					OR = {
						has_secret_goal = {
							who = scope:target_country
							secret_goal = protect
						}
						has_secret_goal = {
							who = scope:target_country
							secret_goal = dominate
						}			
					}
				}
				
				add = {
					value = 50
				
					add = {
						value = scope:target_country.gdp
						divide = 200000
						max = 50						
					}

					if = {
						limit = {
							has_strategic_adjacency = scope:target_country
						}
						multiply = 1.25
					}						
				}
			}
			
			if = {
				limit = {
					OR = {
						has_journal_entry = je_sick_man_egypt
						has_journal_entry = je_veiled_protectorate
					}
					exists = c:EGY
					scope:target_country = c:EGY
				}
				add = 100
			}	

			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
				}
				multiply = 0.5
			}

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}

			add = lotus_strategy_calculation

			multiply = { 
				value = lotus_strategy_block_checks
			}

			multiply = {
				value = lotus_take_subject_check
			}

			min = 0
			max = 150				
		}
		
		make_vassal = {
			if = {
				limit = {
					OR = {
						has_secret_goal = {
							who = scope:target_country
							secret_goal = protect
						}
						has_secret_goal = {
							who = scope:target_country
							secret_goal = dominate
						}				
					}
				}
				
				add = {
					value = 50
				
					add = {
						value = scope:target_country.gdp
						divide = 200000
						max = 50						
					}

					if = {
						limit = {
							has_strategic_adjacency = scope:target_country
						}
						multiply = 1.25
					}						
				}
			}
			
			if = {
				limit = {
					OR = {
						has_journal_entry = je_sick_man_egypt
						has_journal_entry = je_veiled_protectorate
					}
					exists = c:EGY
					scope:target_country = c:EGY
				}
				add = 100
			}	

			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
				}
				multiply = 0.5
			}	

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}

			add = lotus_strategy_calculation

			multiply = { 
				value = lotus_strategy_block_checks
			}

			multiply = {
				value = lotus_take_subject_check
			}

			min = 0
			max = 175			
		}	

		war_reparations = {
			value = 25
			
			add = {
				value = "scope:target_country.ai_gdp_comparison(root)"
				add = 1
				multiply = 5
				min = 0
				max = 15

				if = {
					limit = {
						has_diplomatic_pact = {
							who = scope:target_country
							type = rivalry
						}						
					}
					
					multiply = 1.5
				}
			}
			
			if = {
				limit = {
					has_journal_entry = je_opium_wars
					scope:target_country = {
						has_variable = opium_wars_target
					}
				}
				add = 50
			}	

			if = {
				limit = {
					has_journal_entry = je_opium_obsession
					scope:target_country = {
						has_variable = opium_wars_aggressor
					}
				}
				add = 50
			}

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}

			min = 5
			max = 100			
		}	

		humiliation = {
			value = 5

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}
		}	

		regime_change = {
			value = 0
			
			if = {
				limit = {
					country_rank >= rank_value:major_power					
					OR = {
						has_diplomatic_pact = {
							who = scope:target_country.top_overlord
							type = rivalry
						}	
						"ai_ideological_opinion(scope:target_country)" <= -25	
					}
				}
				add = 10
			}			

			### kind of a uselesss war goal, dont take it too often
			#multiply = 0.05		
			max = 1
		}
		
		open_market = {
			value = 0
			
			if = {
				limit = {
					scope:target_country = {
						has_diplomatic_pact = {
							who = root
							type = embargo
						}	
					}
					can_reach_target_country = yes
				}
				add = 20
			}
		
			if = {
				limit = {
					has_journal_entry = je_opium_wars
					scope:target_country = {
						has_variable = opium_wars_target
					}
				}
				add = 20
			}

			if = {
				limit = {

					country_rank = rank_value:unrecognized_major_power
				}

				add = 20
			}

			max = 20
		}

		ban_slavery = {
			value = 0
			
			if = {
				limit = {
					country_rank >= rank_value:major_power
					OR = {
						has_strategy = ai_strategy_progressive_agenda
						has_strategy = ai_strategy_egalitarian_agenda
					}					
				}

				add = {
					value = scope:target_country.gdp
					divide = 100000
					max = 25						
				}

				
				# Relations with target
				multiply = {
					value = "scope:target_country.relations:root"
					multiply = -0.01
					add = 1
					min = 0.5
					max = 2.0				
				}
				
				# Ideological opinion of target
				multiply = {
					value = "ai_ideological_opinion(scope:target_country)"
					multiply = -0.05
					add = 1
					min = 0.5
					max = 2.0
				}				
			}

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}

			min = 0
			max = 5
		}

		revoke_claim = {
			value = 10
			
			add = {
				value = scope:target_state.state_population
				divide = 200000
				max = 50						
			}
			
			add = {
				value = scope:target_state.gdp
				divide = 200000
				max = 50						
			}											
			
			if = {
				limit = {
					scope:target_state = { is_homeland_of_country_cultures = root }
				}
				multiply = 1.25
			}

			if = {
				limit = {
					scope:target_state = { is_incorporated = no }
				}
				multiply = 0.5
			}

			min = 0
			max = 50			
		}	

		contain_threat = {
			value = 1000

			#dont contain other AI
			if = {

				limit = {
					scope:target_country = {
						is_player = no
					}
				}

				multiply = 0
			}

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}			
		}

		annex_country = {
			value = 1000
		
			add = {
				value = scope:target_country.gdp
				divide = 100000
				max = 1000		
			}

			if = {
				limit = {
					has_strategic_adjacency = scope:target_country
				}
				multiply = 1.5
			}									
			
			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
				}
				multiply = 0.0
			}

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}

			min = 0
			max = 1000			
		}			
		
		annex_native = {
			value = 1000
		}	

		unification = {
			value = 1000
		
			add = {
				value = scope:target_country.gdp
				divide = 100000
				max = 100						
			}

			if = {
				limit = {
					has_strategic_adjacency = scope:target_country
				}
				multiply = 1.5
			}	
			
			if = {
				limit = {
					lenient_ai_behavior_trigger = yes
				}
				multiply = 0.0
			}

			min = 0
			max = 1000	
		}			

		liberate_subject = {
			value = 0	
			
			if = {
				limit = {
					scope:target_country.top_overlord.infamy >= infamy_threshold:notorious		
				}
				add = 25
				
				if = {
					limit = {
						has_diplomatic_pact = {
							who = scope:target_country.top_overlord
							type = rivalry
						}							
					}
					add = 25
				}

				if = {
					limit = {
						scope:target_country.top_overlord.infamy >= infamy_threshold:pariah
					}
					add = 25
				}

				# Relations with subject
				multiply = {
					value = "scope:target_country.relations:root"
					multiply = 0.01
					add = 1
					min = 0.25
					max = 2.0				
				}
				
				# Ideological opinion of subject
				multiply = {
					value = "ai_ideological_opinion(scope:target_country)"
					multiply = 0.05
					add = 1
					min = 0.25
					max = 2.0
				}				
			}	

			#because it just leads to a mess and is flavorfully awful dont force release these
			if = {
				limit = {
					OR = {
						AND = {
							exists = c:BIC
							scope:target_country = c:BIC
						}
						AND = {
							exists = c:DEI
							scope:target_country = c:DEI						
						}
					}
				}

				multiply = 0
			}

			#dont make britian release subjects its a mess
			if = {
				limit = {
					exists = c:GBR
					scope:target_country.top_overlord = c:GBR
				}

				multiply = 0
			}

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}

			min = 0
			max = 50		
		}	

		liberate_country = {
			value = 0

			#because it just leads to a mess and is flavorfully awful dont force release these
			if = {
				limit = {
					OR = {
						AND = {
							exists = c:BIC
							scope:target_country = c:BIC
						}
						AND = {
							exists = c:DEI
							scope:target_country = c:DEI						
						}
					}
				}

				multiply = 0
			}

			#dont make your overlord liberate other subjects
			if = {
				limit = {
					scope:target_country.top_overlord = root
				}

				multiply = 0
			}

			if = {
				limit = {
					can_reach_target_country = no
				}

				multiply = 0
			}
			
			# only use this on specific countries
			if = {
				limit = {
					scope:target_country = {
						OR = {
							AND = {
								exists = c:AUS
								this = c:AUS
							}
							AND = {
								exists = c:TUR
								this = c:TUR
							}	
							AND = {
								exists = c:EGY
								this = c:EGY
							}							
						}
					}
				}

				add = 20
			}
			else = {
				multiply = 0
			}

			min = 0
			max = 20				
		}

		force_recognition = {
			value = 0
			
			if = {
				limit = {
					country_rank = rank_value:unrecognized_major_power
					navy_size >= 25
					army_size >= 200
					OR = {
						has_strategy = ai_strategy_nationalist_agenda
						has_strategy = ai_strategy_progressive_agenda
						has_strategy = ai_strategy_egalitarian_agenda
					}
				}

				add = 200
			}
		}

		independence = {
			value = 200

			#because it just leads to a mess and is flavorfully awful raj & dei should not want independence
			if = {
				limit = {
					OR = {
						AND = {
							exists = c:BIC
							root = c:BIC
						}
						AND = {
							exists = c:DEI
							root = c:DEI						
						}
					}
				}

				multiply = 0
			}
		}

		secession = {
			value = 200
		}		

		transfer_subject = {

			value = 0

			if = {
				limit = {
					can_reach_target_country = yes
					has_strategic_land_adjacency = scope:target_country
					
					#because it just leads to a mess and is flavorfully awful dont transfer BIC/DEI
					NOT = {
						AND = {
							exists = c:BIC
							scope:target_country = c:BIC
						}
						AND = {
							exists = c:DEI
							scope:target_country = c:DEI						
						}
					}
				}

				value = 100
			}
			else = {
				value = 0
			}

			multiply = { 
				value = lotus_strategy_block_checks
			}

			max = 100
		}
	}

	#### largely default values in here currently. mainly to get USA to look at hawaii
	strategic_region_scores = {
		region_japan = {	
			if = {
				limit = { # Great Powers should try to open Japan
					## adding some restriction top stop UK gunning for sakhalin 
					OR = {
						AND = {
							exists = c:RUS
							root = c:RUS
						}
						AND = {
							exists = c:JAP
							c:JAP = { has_law = law_type:law_isolationism }
							has_technology_researched = civilizing_mission	
							country_rank = rank_value:great_power					
							navy_size >= 50							
						}
					}
				}
				add = 1000
			}
			else_if = {
				limit = {
					AND = {
						exists = c:JAP
						c:JAP = { has_law = law_type:law_isolationism }
					}
				}
				add = -200
			}		
		}			
		region_nile_basin = {
			if = {
				limit = {
					OR = {
						AND = {
							country_rank = rank_value:great_power
							has_technology_researched = malaria_prevention
						}
						has_journal_entry = scramble_for_africa
					}						
				}
				add = 200
			}

			if = {
				limit = {
					exists = c:USA
					root = c:USA
				}

				multiply = 0.1
			}
		}
		region_north_africa = {
			if = {
				limit = {
					OR = {
						AND = {
							country_rank = rank_value:great_power
							has_technology_researched = malaria_prevention
						}
						has_journal_entry = scramble_for_africa
					}		
				}
				add = 200
			}		

			if = {
				limit = {
					exists = c:USA
					root = c:USA
				}

				multiply = 0.1
			}
		}
		region_senegal = {
			if = {
				limit = {
					OR = {
						AND = {
							country_rank = rank_value:great_power
							has_technology_researched = malaria_prevention
						}
						has_journal_entry = scramble_for_africa
					}		
				}
				add = 200
			}		

			if = {
				limit = {
					exists = c:USA
					root = c:USA
				}

				multiply = 0.1
			}
		}
		region_niger = {
			if = {
				limit = {
					OR = {
						AND = {
							country_rank = rank_value:great_power
							has_technology_researched = malaria_prevention
						}
						has_journal_entry = scramble_for_africa
					}		
				}
				add = 200
			}		

			if = {
				limit = {
					exists = c:USA
					root = c:USA
				}

				multiply = 0.1
			}
		}
		region_congo = {
			if = {
				limit = {
					OR = {
						AND = {
							country_rank = rank_value:great_power
							has_technology_researched = malaria_prevention
						}
						has_journal_entry = scramble_for_africa
					}		
				}
				add = 200
			}		

			if = {
				limit = {
					exists = c:USA
					root = c:USA
				}

				multiply = 0.1
			}
		}
		region_southern_africa = {
			if = {
				limit = {
					OR = {
						AND = {
							country_rank = rank_value:great_power
							has_technology_researched = malaria_prevention
						}
						has_journal_entry = scramble_for_africa
					}		
				}
				add = 200
			}		

			if = {
				limit = {
					exists = c:USA
					root = c:USA
				}

				multiply = 0.1
			}
		}
		region_zanj = {
			if = {
				limit = {
					OR = {
						AND = {
							country_rank = rank_value:great_power
							has_technology_researched = malaria_prevention
						}
						has_journal_entry = scramble_for_africa
					}		
				}
				add = 200
			}		

			if = {
				limit = {
					exists = c:USA
					root = c:USA
				}

				multiply = 0.1
			}
		}
		region_north_germany = {
			if = {
				limit = {
					country_is_in_europe = yes
					country_rank >= rank_value:great_power
				}
				add = 100
			}
			if = {
				limit = {
					has_journal_entry = je_german_unification
				}
				add = 1000
			}			
		}
		region_south_germany = {
			if = {
				limit = {
					country_is_in_europe = yes
					country_rank >= rank_value:great_power
				}
				add = 100
			}
			if = {
				limit = {
					has_journal_entry = je_german_unification
				}
				add = 1000
			}				
		}		
		region_italy = {
			if = {
				limit = {
					country_is_in_europe = yes
					country_rank >= rank_value:great_power
				}
				add = 100
			}
		}
		region_balkans = {
			if = {
				limit = {
					country_is_in_europe = yes
					country_rank >= rank_value:great_power
				}
				add = 50
			}
		}
		region_england = {
			if = {
				limit = {
					country_is_in_europe = yes
					country_rank >= rank_value:great_power
				}
				add = 50
			}
		}	
		region_iberia = {
			if = {
				limit = {
					country_is_in_europe = yes
					country_rank >= rank_value:great_power
				}
				add = 50
			}
		}
		region_rhine = {
			if = {
				limit = {
					country_is_in_europe = yes
					country_rank >= rank_value:great_power
				}
				add = 50
			}
		}			
		region_south_china = {
			if = {
				limit = {
					has_journal_entry = je_opium_wars	
				}
				add = 1000
			}			
		}
		region_pacific_coast = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}
		region_great_plains = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}
		region_dixie = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}		
		region_new_england = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}
		region_canada = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}	
		region_the_midwest = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}	
		region_central_america = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}
		region_brazil = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}	
		region_andes = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}
		region_la_plata = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}
		region_gran_colombia = {
			if = {
				limit = {
					has_variable = monroe_doctrine	
				}
				add = 100
			}			
		}		
		region_oceania = {
			if = {
				limit = {

					AND = {
						exists = c:USA
						root = c:USA

						root = {
							calc_true_if = {
								amount >= 3
								owns_entire_state_region = STATE_OREGON
								owns_entire_state_region = STATE_WASHINGTON
								owns_entire_state_region = STATE_CALIFORNIA	
							}
						}
					}
				}

				add = 1000
			}
			else_if = {
				limit = {
					exists = c:GBR
					root = c:GBR				
				}

				add = 10000
			}
			else = {
				add = -100
			}
		}
	}

	possible = {
		always = no
	}
	
	weight = {
		value = 0		
	}
}
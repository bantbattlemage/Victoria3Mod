gbr_expand_east_indies = {
	is_shown = {
		root = c:GBR
		exists = c:BIC
		c:BIC = {
			is_subject_of = ROOT
			#is_subject_type = subject_type_dominion
		}
		any_state = {
			owner = ROOT

			OR = {
				region = sr:region_north_india
				region = sr:region_south_india
				region = sr:region_himalayas
				region = sr:region_indochina
				region = sr:region_persia											
			}
		}
	}

	possible = {
		OR = { 
			any_state = {
				owner = ROOT

				OR = {
					region = sr:region_north_india
					region = sr:region_south_india
					region = sr:region_himalayas
					region = sr:region_indochina
					region = sr:region_persia											
				}
			}

			any_subject_or_below = {
				
				OR = {
					capital.region = sr:region_north_india
					capital.region = sr:region_south_india
					capital.region = sr:region_himalayas
					capital.region = sr:region_indochina
					capital.region = sr:region_persia											
				}

				NOT = { 
					THIS = c:BIC
					is_subject_of = c:BIC
				}
			}
		}
	}

	when_taken = {

		custom_tooltip = expand_east_indies_tt

		if = {

			limit= {
				any_state = {
					owner = ROOT

					OR = {
						region = sr:region_north_india
						region = sr:region_south_india
						region = sr:region_himalayas
						region = sr:region_indochina
						region = sr:region_persia											
					}
				}
			}
			every_scope_state = {
				limit = {
					owner = ROOT

					OR = {
						region = sr:region_north_india
						region = sr:region_south_india
						region = sr:region_himalayas
						region = sr:region_indochina
						region = sr:region_persia											
					}
				}

				set_state_owner = c:BIC
				set_state_type = unincorporated
			}
		}
	}

	ai_chance = {
		
		base = 1000
	}
}


gbr_fix_independent_raj = {

	is_shown = {

		exists = c:BIC
		exists = c:GBR
		root = c:GBR
		
	}
	possible = {

		is_at_war = no
		exists = c:BIC
		root = c:GBR

		c:BIC = {
			
			is_at_war = no

			NOT = { 
				top_overlord = c:GBR		
			}
		}
	}
	when_taken = {
		
		c:BIC = {

			if = {
				limit = {
					has_diplomatic_pact = {
						who = c:GBR
						type = rivalry
					}
				}

				remove_diplomatic_pact = {
					country = c:GBR
					type = rivalry
				}
			}

			set_relations = {
				country = c:GBR
				value = 100
			}			
		}

		c:GBR = {

			set_relations = { 
				country = c:BIC
				value = 100
			}

			if = {
				limit = {
					c:BIC = { has_variable = british_raj_var }			
				}

				create_diplomatic_pact = {
					country = c:BIC
					type = puppet				
				}
			}
			else = {
				create_diplomatic_pact = {
					country = c:BIC
					type = dominion				
				}	
			}
		}
	}

	ai_chance = {
		base = 1000
	}
}

bic_centralize_british_raj = {

	is_shown = {

		exists = c:BIC
		exists = c:GBR
		root = c:GBR
		
	}
	possible = {

		is_at_war = no
		exists = c:BIC
		root = c:GBR		
		has_technology_researched = nationalism
		has_variable = british_raj_var
	}
	when_taken = {

		every_subject_or_below = {

			if = {
				limit = {

					NOT = { this = c:BIC }

					OR = {
						capital.state_region.region = sr:region_north_india
						capital.state_region.region = sr:region_south_india
						capital.state_region.region = sr:region_himalayas
					}
				}
			
				c:BIC = {
					annex = prev
				}			
			}
		}
	}

	ai_chance = {
		base = 1000
	}
}